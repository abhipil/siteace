<head>
  <title>Site Ace</title>
</head>

<body>
</body>

<template name="ApplicationLayout">
	{{>yield "navbar"}}
	{{>yield "main"}}
</template>

<template name="welcome">
	<div class="container">
		<div class="jumbotron">
			<div class="page-header">
	    		<h1>Welcome to Site Ace!!</h1>				
			</div>
			<div>
    			<a href="/websites" class="btn btn-info btn-lg">ENTER</a>	
			</div>
		</div>
	</div>
</template>
<template name="websites">
	<div class="container">
		{{#if currentUser}}
			{{> website_form}}
		{{/if}}
		{{> website_list}}
	</div>
</template>

<template name="website">
	<div class="container">
		<div class="row">
			<div class="col-md-8 col-md-offset-2
						col-lg-8 col-md-offset-2">
				{{> website_item}}
			</div>
			<div class="col-md-8 col-md-offset-2
						col-lg-8 col-md-offset-2">
				<div class="comment-section">
				    {{> commentsBox id=_id}}
				</div>
			</div>
		</div>	
	</div>
</template>

<template name="nav_common">
	{{> error_modal}}
	<!-- navbar  - you will be putting the login functions here -->
	<nav class="navbar navbar-default">
	  	<div class="container-fluid">
	    	<div class="navbar-header">
	      		<a class="navbar-brand" href="#">
	        		Site Ace
	      		</a>
	    	</div>
	    	<div class="nav navbar-nav navbar-right">
           		{{> loginButtons align="right"}}
           	</div>
	    	<form method="post" class="navbar-form navbar-right js-search" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" id="search" name="search" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
           	</form>
	  	</div>
	</nav>
</template>

<template name="error_modal">
	<!-- Modal -->
	<div id="myModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">
	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h4 class="modal-title text-center text-warning">Error</h4>
	      </div>
	      <div class="modal-body">
	        <p class="text-danger">{{error}}</p>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>
</template>

<template name="website_form">
	<a class="btn btn-default js-toggle-website-form" href="#">
  		<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
	</a>
	<div id="website_form" class="hidden_div">
		<form class="js-save-website-form">
		  	<div class="form-group">
		    	<label for="url">Site address</label>
		    	<input type="text" class="form-control" id="url" placeholder="http://www.mysite.com">
		  	</div>
		  	<div id="website_form_hidden" class="hidden_div">
			  	<div class="form-group" >
			    	<label for="title">Title</label>
			    	<input type="text" class="form-control" id="title" placeholder="Mysite">
			  	</div>
			    <div class="form-group" >
			    	<label for="description">Description</label>
			    	<input type="text" class="form-control" id="description" placeholder="I found this site really useful for ...">
			  	</div>
			</div>
		  <a href="#" class="js-save-website-form-toggle"><span class="badge">show more</span></a><br><br>
		  <button type="submit" class="btn btn-default">Submit</button>
		</form>
	</div>
</template>

<!-- template that displays several website items -->
<template name="website_list">
	<ol>
		{{#each websites}}
			{{>website_item_wrapper}}
		{{/each}}
	</ol>
</template>

<!-- template that displays individual website entries -->
<template name="website_item_wrapper">
<li>
	{{> website_item}}	
</li>
<br>
</template>

<template name="website_item">
	<ul id="menu">
		<ul class="list-inline">
			<li><a href="{{url}}">{{title}}</a></li>
			<li><p class="small text-right">{{getDate(createdOn)}}</p></li>
		</ul>
	<p>
		{{description}}.. <a href="/websites/{{_id}}">see more</a>
	</p>
	<a href="#" class="btn btn-default js-upvote">
		<span class="badge">{{upvotes}}</span>
		<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
	</a>
	<a href="#" class="btn btn-default js-downvote">
		<span class="badge">{{downvotes}}</span>
		<span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
	</a>
	</ul>
</template>
